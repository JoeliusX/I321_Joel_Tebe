@startuml
actor Client
participant "pizzaRoutes.js" as Route
participant "pizzaController.js" as Controller
participant "pizzaModel.js" as Model
database "Database" as DB

== Pizza Creation Flow ==

Client -> Route : POST /pizzas {name, price, ingredients[]}
Route -> Controller : createPizza(req, res)
Controller -> Model : insertPizza(name, price, dailyPizza, pictureLink)

alt Error
    Model --> Controller : throw error
    Controller --> Client : 400 Bad Request

else Success
    Model -> DB : INSERT INTO pizzas (...)
    DB --> Model : new pizzaId
    Controller -> Model : insertIngredients(pizzaId, ingredients[])
    Model -> DB : INSERT INTO pizzas_has_ingredients (pizzaId, ingredientId)
    DB --> Model : Success
    Model --> Controller : Success
    Controller --> Client : 200 OK { "message": "Pizza created" }
end

== Error Case ==

Controller --> Client : 500 Internal Server Error
@enduml